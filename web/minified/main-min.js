window.onload=function(a){MAIN.init()};var MAIN=(function(){var d=null;var p={};var n;function h(){n=entity(document.getElementById("prodigy"),{});p={welcome:welcomeScreen(document.createElement("div"),{}).appendTo(n),subjectSelection:subjectSelectionScreen(document.getElementById("subjects")).remove(),exerciseSelection:exerciseSelectionScreen(document.getElementById("exercises")).remove(),activeGame:game(document.getElementById("game")).remove(),pausedGame:pausedGameScreen(document.getElementById("pausedScreen")).remove(),exerciseFailed:exerciseFailedScreen(document.getElementById("exerciseFailedScreen")).remove(),exerciseCleared:exerciseClearedScreen(document.getElementById("exerciseClearedScreen")).remove()};p.welcome.on("start",q);p.subjectSelection.on("subjectSelected",g).on("back",k);p.exerciseSelection.on("exerciseSelected",b).on("back",c);p.activeGame.on("exerciseCleared",j).on("exerciseFailed",i).on("pause",e);p.pausedGame.on("resume",m).on("restart",f).on("quit",o);p.exerciseFailed.on("restart",l).on("quit",r);p.exerciseCleared.on("restart",a).on("quit",s).on("newTopScore",function(t){});d=p.welcome.show()}function q(){p.welcome.remove();p.subjectSelection.appendTo(n).loadSubjects()}function k(){p.subjectSelection.remove();p.welcome.appendTo(n)}function g(){p.subjectSelection.remove();var t=p.subjectSelection.getSelectedSubject();p.exerciseSelection.appendTo(n).loadExercisesBySubject(t)}function b(t){p.exerciseSelection.remove();p.activeGame.initExercise(t.getSelectedExercise()).appendTo(n).start()}function c(){p.exerciseSelection.remove();p.subjectSelection.appendTo(n).loadSubjects()}function o(){p.pausedGame.remove();p.activeGame.quit().remove();p.exerciseSelection.appendTo(n)}function e(){p.pausedGame.appendTo(n)}function m(){p.pausedGame.remove();p.activeGame.resume()}function f(){p.pausedGame.remove();p.activeGame.restart()}function j(){d=p.exerciseCleared.appendTo(n).setGrade(p.activeGame.getGrade())}function i(){d=p.exerciseFailed.appendTo(n)}function l(){p.exerciseFailed.remove();p.activeGame.restart()}function r(){p.exerciseFailed.remove();p.activeGame.quit().remove();p.exerciseSelection.appendTo(n)}function a(){p.exerciseCleared.remove();p.activeGame.appendTo(n).restart()}function s(){p.exerciseCleared.remove();p.activeGame.quit().remove();p.exerciseSelection.appendTo(n)}return{init:function(){h()}}})();